<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TheoQuest - Edi√ß√£o Premium</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { serif: ['Cinzel', 'serif'], sans: ['Inter', 'sans-serif'] },
                    animation: { 'float': 'float 6s ease-in-out infinite', 'pulse-slow': 'pulse 4s infinite' },
                    keyframes: { float: { '0%, 100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-10px)' } } }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Inter:wght@300;400;600&display=swap');
        body { background-color: #020617; background-image: radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%); background-attachment: fixed; }
        .glass-panel { background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.05); box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1); }
        .text-glow { text-shadow: 0 0 20px rgba(245, 158, 11, 0.3); }
        .animate-fade { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        input::placeholder { color: #475569; }
    </style>
</head>
<body class="text-slate-200 font-sans antialiased">

    <div id="app" class="min-h-screen flex flex-col relative overflow-hidden"></div>

    <script>
        const STATE = {
            view: 'login', // Inicializa no Login
            isLoggedIn: false,
            user: { name: '', xp: 1240, streak: 3 },
            translationInput: [],
            qIndex: 0
        };

        const RANKS = [
            { id: 1, minXp: 0, title: "Catec√∫meno", desc: "Iniciante na f√© e na doutrina.", icon: "üå±" },
            { id: 2, minXp: 500, title: "Monge Copista", desc: "Dedicado √† preserva√ß√£o dos textos.", icon: "üìú" },
            { id: 3, minXp: 1500, title: "Escol√°stico", desc: "Mestre da raz√£o e da dial√©tica.", icon: "üèõÔ∏è" },
            { id: 4, minXp: 3000, title: "Doutor da Igreja", desc: "Autoridade m√°xima em teologia.", icon: "‚õ™" }
        ];

        const app = document.getElementById('app');

        function render() {
            app.innerHTML = '';
            if (!STATE.isLoggedIn) { renderLogin(); return; }

            switch(STATE.view) {
                case 'home': renderHome(); break;
                case 'profile': renderProfile(); break;
                case 'game': renderGame(); break;
                case 'translation': renderTranslation(); break;
                case 'map-at': renderMap('Antigo Testamento', getATPoints()); break;
                case 'map-nt': renderMap('Novo Testamento', getNTPoints()); break;
                default: renderSimpleModule(); break;
            }
        }

        function setView(v) { STATE.view = v; render(); }
        function goHome() { STATE.view = 'home'; render(); }

        // --- TELA DE LOGIN ---
        function renderLogin() {
            app.innerHTML = `
                <div class="flex-1 flex items-center justify-center p-6 animate-fade">
                    <div class="glass-panel p-10 rounded-3xl border border-amber-900/30 w-full max-w-md text-center">
                        <h1 class="font-serif text-4xl text-amber-500 mb-2 tracking-widest text-glow">THEOQUEST</h1>
                        <p class="text-slate-500 text-sm mb-8 uppercase tracking-tighter">Terminal de Acesso Teol√≥gico</p>
                        
                        <div class="space-y-4 mb-8">
                            <input type="text" id="username" placeholder="Nome do Estudante" class="w-full bg-slate-900/50 border border-slate-700 p-4 rounded-xl focus:border-amber-500 outline-none transition font-mono">
                            <input type="password" placeholder="Chave de Acesso" class="w-full bg-slate-900/50 border border-slate-700 p-4 rounded-xl focus:border-amber-500 outline-none transition font-mono">
                        </div>

                        <button onclick="handleLogin()" class="w-full bg-gradient-to-r from-amber-700 to-amber-600 text-white font-bold py-4 rounded-xl shadow-lg shadow-amber-900/40 hover:scale-[1.02] transition">INICIAR SESS√ÉO</button>
                        <p class="mt-6 text-[10px] text-slate-600 uppercase tracking-widest italic">A f√© busca o entendimento</p>
                    </div>
                </div>
            `;
        }

        function handleLogin() {
            const name = document.getElementById('username').value;
            STATE.user.name = name || 'An√¥nimo';
            STATE.isLoggedIn = true;
            STATE.view = 'home';
            render();
        }

        // --- HOME COM SUBT√çTULOS RESTAURADOS ---
        function renderHome() {
            const currentRank = [...RANKS].reverse().find(r => STATE.user.xp >= r.minXp) || RANKS[0];
            
            app.innerHTML = `
                <div class="max-w-6xl mx-auto w-full p-4 md:p-8 animate-fade">
                    <div class="flex justify-between items-center mb-10">
                        <h1 class="font-serif text-2xl md:text-3xl font-bold tracking-widest text-amber-500">THEOQUEST</h1>
                        <div onclick="setView('profile')" class="glass-panel px-4 py-2 rounded-full flex items-center gap-3 text-sm cursor-pointer hover:border-amber-500 transition">
                            <span class="text-amber-500 font-bold">${STATE.user.name}</span>
                            <div class="w-8 h-8 rounded-full bg-amber-900/50 flex items-center justify-center">${currentRank.icon}</div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <div class="lg:col-span-1 space-y-6">
                            <div class="glass-panel p-6 rounded-2xl border-t border-slate-700">
                                <h3 class="text-xs font-bold text-slate-500 uppercase mb-4 tracking-widest">Patente Atual</h3>
                                <div class="text-4xl mb-2 animate-float">${currentRank.icon}</div>
                                <h2 class="font-serif text-2xl text-amber-100 font-bold">${currentRank.title}</h2>
                                <p class="text-xs text-slate-400 mt-1 mb-4 italic">${currentRank.desc}</p>
                                <div class="text-emerald-400 font-mono text-xl">${STATE.user.xp} XP</div>
                            </div>
                            <div class="glass-panel p-4 rounded-xl flex items-center gap-3">
                                <span class="text-orange-500 text-2xl">üî•</span>
                                <div><p class="text-[10px] text-slate-500 uppercase">Ofensiva</p><p class="font-bold">${STATE.user.streak} Dias Seguidos</p></div>
                            </div>
                        </div>

                        <div class="lg:col-span-2 space-y-6">
                            <h3 class="text-slate-500 text-xs font-bold uppercase tracking-widest pl-1">Eixos de Estudo Dispon√≠veis</h3>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                ${renderTrackCard('simple', 'üìë', 'Introdu√ß√£o √† B√≠blia', 'Inspira√ß√£o, Inerr√¢ncia e C√¢non', 'border-slate-500')}
                                ${renderTrackCard('translation', 'üìñ', 'Eixo Exeg√©tico', 'Grego, Hebraico e Hermen√™utica', 'border-emerald-500')}
                                ${renderTrackCard('map-at', 'üè∫', 'Panorama do AT', 'Da Cria√ß√£o ao Per√≠odo Intertestament√°rio', 'border-orange-500')}
                                ${renderTrackCard('map-nt', '‚úùÔ∏è', 'Panorama do NT', 'Evangelhos, Atos e Ep√≠stolas', 'border-blue-500')}
                                ${renderTrackCard('simple', 'ü§ù', 'Pr√°tica do Pastorado', 'Lideran√ßa e Aconselhamento', 'border-purple-500')}
                                ${renderTrackCard('game', 'üìú', 'Eixo Hist√≥rico', 'Patr√≠stica, Medieval e Reforma', 'border-amber-500')}
                                ${renderTrackCard('simple', 'üß†', 'Eixo Sistem√°tico', 'Doutrinas e Teologia Dogm√°tica', 'border-blue-700')}
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderTrackCard(view, icon, title, sub, color) {
            return `
                <div onclick="setView('${view}')" class="glass-panel p-5 rounded-xl border-l-4 ${color} hover:bg-white/5 cursor-pointer flex items-center gap-4 transition group">
                    <div class="text-3xl group-hover:scale-110 transition">${icon}</div>
                    <div>
                        <h4 class="font-bold text-slate-100 text-sm">${title}</h4>
                        <p class="text-[10px] text-slate-500 uppercase mt-0.5">${sub}</p>
                    </div>
                </div>
            `;
        }

        // --- TELA DE PERFIL E PATENTES ---
        function renderProfile() {
            app.innerHTML = `
                <div class="max-w-4xl mx-auto w-full p-8 animate-fade">
                    <button onclick="goHome()" class="text-slate-500 mb-8 hover:text-white transition">‚Üê Voltar ao Terminal</button>
                    
                    <div class="glass-panel p-8 rounded-3xl mb-10 flex items-center gap-8 border border-amber-500/20">
                        <div class="text-7xl">üèõÔ∏è</div>
                        <div>
                            <h2 class="font-serif text-3xl text-amber-100">${STATE.user.name}</h2>
                            <p class="text-emerald-500 font-mono">N√≠vel Escol√°stico | ${STATE.user.xp} XP acumulado</p>
                        </div>
                    </div>

                    <h3 class="font-serif text-xl text-slate-400 mb-6 tracking-widest uppercase">Hierarquia de Patentes</h3>
                    <div class="space-y-4">
                        ${RANKS.map(r => `
                            <div class="glass-panel p-6 rounded-2xl flex items-center gap-6 ${STATE.user.xp >= r.minXp ? 'border-amber-500/40 bg-amber-500/5' : 'opacity-40 grayscale'}">
                                <div class="text-4xl">${r.icon}</div>
                                <div class="flex-1">
                                    <h4 class="font-bold text-lg text-amber-100">${r.title}</h4>
                                    <p class="text-xs text-slate-400">${r.desc}</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-[10px] text-slate-500 uppercase">Requisito</p>
                                    <p class="font-mono text-amber-600">${r.minXp} XP</p>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // --- MAPAS (RESTAURADOS E DETALHADOS) ---
        function renderMap(title, points) {
            app.innerHTML = `
                <div class="flex-1 flex flex-col max-w-5xl mx-auto w-full p-6 animate-fade">
                    <div class="flex justify-between items-center mb-6">
                        <button onclick="goHome()" class="glass-panel px-4 py-2 rounded-lg text-xs font-bold text-amber-500">‚Üê SAIR</button>
                        <h2 class="font-serif text-xl text-amber-100 tracking-widest">${title}</h2>
                    </div>
                    <div class="relative aspect-video glass-panel rounded-3xl overflow-hidden border border-slate-700 bg-[url('https://www.transparenttextures.com/patterns/grid-me.png')] shadow-2xl">
                        ${points.map(p => `
                            <div style="left: ${p.x}; top: ${p.y};" class="absolute group -translate-x-1/2 -translate-y-1/2 cursor-pointer z-10">
                                <div class="w-4 h-4 bg-amber-500 rounded-full animate-pulse shadow-[0_0_15px_#f59e0b]"></div>
                                <div class="absolute left-6 top-0 glass-panel p-4 rounded-xl border border-amber-500/30 opacity-0 group-hover:opacity-100 transition min-w-[220px] z-50 pointer-events-none">
                                    <p class="text-amber-500 font-bold text-xs uppercase">${p.name}</p>
                                    <p class="text-[11px] text-slate-200 mt-2 leading-relaxed">${p.info}</p>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function getATPoints() {
            return [
                { name: "Babil√¥nia", x: "85%", y: "40%", info: "O Cativeiro e a Torre de Babel. Centro da Mesopot√¢mia." },
                { name: "Monte Sinai", x: "45%", y: "75%", info: "A entrega da Lei (Tor√°) a Mois√©s." },
                { name: "Jerusal√©m", x: "55%", y: "55%", info: "A Cidade Real de Davi e Salom√£o." }
            ];
        }

        function getNTPoints() {
            return [
                { name: "Cafarnaum", x: "60%", y: "25%", info: "Centro do minist√©rio de Jesus na Galileia." },
                { name: "Bel√©m", x: "55%", y: "65%", info: "Local do nascimento do Messias." },
                { name: "Jerusal√©m", x: "54%", y: "60%", info: "Crucifica√ß√£o e Ressurrei√ß√£o." }
            ];
        }

        // --- TRADU√á√ÉO (MANTIDA) ---
        function renderTranslation() {
            const words = ["·ºêŒΩ", "·ºÄœÅœá·øá", "·º¶ŒΩ", "·ΩÅ", "Œª·ΩπŒ≥ŒøœÇ"];
            app.innerHTML = `
                <div class="flex-1 flex flex-col max-w-4xl mx-auto w-full p-8 animate-fade text-center">
                    <button onclick="goHome()" class="self-start glass-panel px-4 py-2 rounded-lg text-xs font-bold text-emerald-400 mb-12">‚Üê VOLTAR</button>
                    <h2 class="font-serif text-3xl mb-12">Jo√£o 1:1 - Grego Koin√©</h2>
                    <div class="glass-panel min-h-[100px] p-6 rounded-2xl border-dashed border-2 border-slate-700 mb-8 flex flex-wrap gap-4 justify-center">
                        ${STATE.translationInput.map(w => `<span class="bg-emerald-600 px-4 py-2 rounded-lg font-serif text-2xl">${w}</span>`).join('')}
                    </div>
                    <div class="flex flex-wrap justify-center gap-3">
                        ${words.map(w => `<button onclick="STATE.translationInput.push('${w}'); render();" class="glass-panel px-5 py-2 rounded-xl border border-emerald-500/20 font-serif text-xl">${w}</button>`).join('')}
                    </div>
                </div>
            `;
        }

        function renderSimpleModule() {
            app.innerHTML = `<div class="flex-1 flex items-center justify-center animate-fade"><div class="glass-panel p-12 rounded-3xl text-center"><h2 class="font-serif text-2xl mb-4">M√≥dulo em Desenvolvimento</h2><button onclick="goHome()" class="bg-slate-800 px-6 py-2 rounded-lg">Voltar</button></div></div>`;
        }

        function renderGame() {
            app.innerHTML = `<div class="flex-1 flex items-center justify-center animate-fade"><div class="glass-panel p-12 rounded-3xl text-center"><h2 class="font-serif text-3xl mb-6">Desafio de Niceia</h2><p class="mb-8 text-slate-400">Defenda a f√© contra as teses arianas.</p><button onclick="goHome()" class="bg-amber-600 px-8 py-3 rounded-lg font-bold">Voltar ao Menu</button></div></div>`;
        }

        render();
    </script>
</body>
</html>
